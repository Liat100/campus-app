(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[41],{8800:function(e,a,t){Promise.resolve().then(t.bind(t,4965))},4965:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return V}});var r=t(7437),s=t(2265),n=t(6463),i=t(7138),l=t(2879),o=t(9202),c=t(9845),d=t(495),u=t(7440);let g=s.forwardRef((e,a)=>{let{className:t,type:s,...n}=e;return(0,r.jsx)("input",{type:s,className:(0,u.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...n})});g.displayName="Input";var m=t(8837);let p=(0,t(3027).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),h=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(m.f,{ref:a,className:(0,u.cn)(p(),t),...s})});h.displayName=m.f.displayName;var x=t(9646);let f=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(x.fC,{className:(0,u.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:a,children:(0,r.jsx)(x.bU,{className:(0,u.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0 rtl:data-[state=checked]:-translate-x-5")})})});f.displayName=x.fC.displayName;var b=t(6013),y=t(4693),v=t(3993);let N=s.forwardRef((e,a)=>{let{className:t,value:s,...n}=e;return(0,r.jsx)(v.fC,{ref:a,className:(0,u.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:(0,r.jsx)(v.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(s||0),"%)")}})})});N.displayName=v.fC.displayName;var j=t(2095);let k=j.fC,w=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(j.aV,{ref:a,className:(0,u.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s})});w.displayName=j.aV.displayName;let C=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(j.xz,{ref:a,className:(0,u.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s})});C.displayName=j.xz.displayName;let D=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(j.VY,{ref:a,className:(0,u.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s})});D.displayName=j.VY.displayName;var I=t(4729),L=t(2421),P=t(4392),F=t(2468);let R=I.fC;I.ZA;let A=I.B4,q=s.forwardRef((e,a)=>{let{className:t,children:s,...n}=e;return(0,r.jsxs)(I.xz,{ref:a,className:(0,u.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[s,(0,r.jsx)(I.JO,{asChild:!0,children:(0,r.jsx)(L.Z,{className:"h-4 w-4 opacity-50"})})]})});q.displayName=I.xz.displayName;let S=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(I.u_,{ref:a,className:(0,u.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,r.jsx)(P.Z,{className:"h-4 w-4"})})});S.displayName=I.u_.displayName;let H=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(I.$G,{ref:a,className:(0,u.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,r.jsx)(L.Z,{className:"h-4 w-4"})})});H.displayName=I.$G.displayName;let _=s.forwardRef((e,a)=>{let{className:t,children:s,position:n="popper",...i}=e;return(0,r.jsx)(I.h_,{children:(0,r.jsxs)(I.VY,{ref:a,className:(0,u.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...i,children:[(0,r.jsx)(S,{}),(0,r.jsx)(I.l_,{className:(0,u.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(H,{})]})})});_.displayName=I.VY.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(I.__,{ref:a,className:(0,u.cn)("py-1.5 pr-2 pl-8 text-sm font-semibold",t),...s})}).displayName=I.__.displayName;let Z=s.forwardRef((e,a)=>{let{className:t,children:s,...n}=e;return(0,r.jsxs)(I.ck,{ref:a,className:(0,u.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pr-2 pl-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(I.wU,{children:(0,r.jsx)(F.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(I.eT,{children:s})]})});Z.displayName=I.ck.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(I.Z0,{ref:a,className:(0,u.cn)("-mx-1 my-1 h-px bg-muted",t),...s})}).displayName=I.Z0.displayName;var z=t(1976),E=t(3231),O=t(6780);function V(){var e,a,t,u,m;let p=(0,n.useParams)(),x=(0,n.useRouter)(),v=p.id,j="new"===v,{getCourseById:I,createCourse:L,updateCourse:P,isLoading:F}=(0,o.p)(),S=j?null:I(Number(v)),[H,V]=(0,s.useState)({name:"",type:"no_certificate",nameChangeRequired:!1,newName:"",hasHomePageIntegrationDoc:!1,homePageIntegrationDoc:"",aboutDocumentData:"",aboutPageLink:"",aboutFile:"",syllabusRequired:!1,learningHours:"",syllabusFile:"",surveysAdded:!1,gradingPercentages:"",gradingFile:"",marketingImagesAvailable:!1,marketingImagesLink:"",clientLogo:"",certificateSignature:"",supportContact:"",courseLaunchDate:""}),[Y,J]=(0,s.useState)([]),[U,$]=(0,s.useState)(!1),[B,G]=(0,s.useState)({}),[T,K]=(0,s.useState)(0),[M,W]=(0,s.useState)("general");(0,s.useEffect)(()=>{if(S){var e,a,t,r,s;V({name:S.name||"",type:S.type||"no_certificate",nameChangeRequired:null!==(e=S.nameChangeRequired)&&void 0!==e&&e,newName:S.newName||"",hasHomePageIntegrationDoc:null!==(a=S.hasHomePageIntegrationDoc)&&void 0!==a&&a,homePageIntegrationDoc:S.homePageIntegrationDoc||"",aboutDocumentData:S.aboutDocumentData||"",aboutPageLink:S.aboutPageLink||"",aboutFile:S.aboutFile||"",syllabusRequired:null!==(t=S.syllabusRequired)&&void 0!==t&&t,learningHours:S.learningHours||"",syllabusFile:S.syllabusFile||"",surveysAdded:null!==(r=S.surveysAdded)&&void 0!==r&&r,gradingPercentages:S.gradingPercentages||"",gradingFile:S.gradingFile||"",marketingImagesAvailable:null!==(s=S.marketingImagesAvailable)&&void 0!==s&&s,marketingImagesLink:S.marketingImagesLink||"",clientLogo:S.clientLogo||"",certificateSignature:S.certificateSignature||"",supportContact:S.supportContact||"",courseLaunchDate:S.courseLaunchDate||""})}},[S]),(0,s.useEffect)(()=>{let e,a;J((0,c.E)(H)),$((0,c.w)(H)),K((e=0,a=0,a++,H.name&&e++,a++,void 0!==H.nameChangeRequired&&e++,H.nameChangeRequired&&(a++,H.newName&&e++),a++,H.type&&e++,"certificate"===H.type&&(a++,H.clientLogo&&e++,a++,H.certificateSignature&&e++),"certificate"===H.type&&(a++,(H.gradingPercentages||H.gradingFile)&&e++),a++,void 0!==H.syllabusRequired&&e++,H.syllabusRequired&&(a++,(H.learningHours||H.syllabusFile)&&e++),a++,void 0!==H.hasHomePageIntegrationDoc&&e++,H.hasHomePageIntegrationDoc?(a++,H.homePageIntegrationDoc&&e++):(a++,H.aboutDocumentData&&e++,a++,H.aboutPageLink&&e++),a++,void 0!==H.marketingImagesAvailable&&e++,H.marketingImagesAvailable&&(a++,H.marketingImagesLink&&e++),a++,void 0!==H.surveysAdded&&e++,a++,H.supportContact&&e++,a++,H.courseLaunchDate&&e++,a>0?Math.round(e/a*100):0)),"grading"===M&&"certificate"!==H.type&&W("certificate");let t=l.I.safeParse(H);if(t.success)G({});else{let e={};t.error.errors.forEach(a=>{e[a.path[0]]=a.message}),G(e)}},[H,M]);let X=(e,a)=>{V(t=>({...t,[e]:a}))},Q=(e,a)=>{V(t=>({...t,[e]:a}))},ee=(e,a)=>{var t;let r=null===(t=a.target.files)||void 0===t?void 0:t[0];r&&X(e,r.name)},ea=e=>Y.includes(e),et=e=>void 0!==B[e],er="certificate"===H.type,es=null!==(e=H.hasHomePageIntegrationDoc)&&void 0!==e&&e;return!j&&F?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,r.jsx)("div",{className:"mx-auto max-w-4xl",children:(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-gray-500",children:"טוען קורס..."})})})}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",dir:"rtl",children:(0,r.jsxs)("div",{className:"mx-auto max-w-6xl",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)(i.default,{href:"/",children:(0,r.jsxs)(d.z,{variant:"ghost",className:"mb-4",children:[(0,r.jsx)(z.Z,{className:"ml-2 h-4 w-4"}),"חזרה לדשבורד"]})}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:S?"עריכת קורס":"קורס חדש"}),(0,r.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,r.jsxs)("span",{children:["התקדמות: ",T,"%"]}),(0,r.jsx)("span",{children:U?(0,r.jsxs)(y.C,{variant:"success",className:"flex items-center gap-1",children:[(0,r.jsx)(E.Z,{className:"h-3 w-3"}),"מוכן להשקה"]}):(0,r.jsxs)(y.C,{variant:"destructive",className:"flex items-center gap-1",children:[(0,r.jsx)(O.Z,{className:"h-3 w-3"}),"לא מוכן"]})})]}),(0,r.jsx)(N,{value:T,className:"h-2"})]}),Y.length>0&&(0,r.jsx)(b.Zb,{className:"mt-4 border-gray-300 bg-gray-100",children:(0,r.jsx)(b.aY,{className:"p-4",children:(0,r.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,r.jsxs)("span",{className:"font-semibold",children:["חסרים ",Y.length," שדות חובה:"]})," ",Y.join(", ")]})})})]}),(0,r.jsx)(b.Zb,{className:"border-gray-300 bg-white shadow-sm",children:(0,r.jsx)(b.aY,{className:"p-0",children:(0,r.jsxs)(k,{value:M,onValueChange:W,className:"w-full",children:[(0,r.jsxs)(w,{className:"w-full justify-start rounded-none border-b border-gray-200 bg-gray-50 p-0 h-auto",children:[(0,r.jsx)(C,{value:"general",className:"px-6 py-3 text-sm font-medium text-gray-600 data-[state=active]:bg-white data-[state=active]:text-gray-900 data-[state=active]:border-b-2 data-[state=active]:border-gray-900 rounded-none",children:"מידע כללי"}),(0,r.jsx)(C,{value:"certificate",className:"px-6 py-3 text-sm font-medium text-gray-600 data-[state=active]:bg-white data-[state=active]:text-gray-900 data-[state=active]:border-b-2 data-[state=active]:border-gray-900 rounded-none",children:"פרטי תעודה"}),er&&(0,r.jsx)(C,{value:"grading",className:"px-6 py-3 text-sm font-medium text-gray-600 data-[state=active]:bg-white data-[state=active]:text-gray-900 data-[state=active]:border-b-2 data-[state=active]:border-gray-900 rounded-none",children:"מודל ציונים"}),(0,r.jsx)(C,{value:"syllabus",className:"px-6 py-3 text-sm font-medium text-gray-600 data-[state=active]:bg-white data-[state=active]:text-gray-900 data-[state=active]:border-b-2 data-[state=active]:border-gray-900 rounded-none",children:"סילבוס קורס"}),(0,r.jsx)(C,{value:"homepage",className:"px-6 py-3 text-sm font-medium text-gray-600 data-[state=active]:bg-white data-[state=active]:text-gray-900 data-[state=active]:border-b-2 data-[state=active]:border-gray-900 rounded-none",children:"עמוד הבית"}),(0,r.jsx)(C,{value:"marketing",className:"px-6 py-3 text-sm font-medium text-gray-600 data-[state=active]:bg-white data-[state=active]:text-gray-900 data-[state=active]:border-b-2 data-[state=active]:border-gray-900 rounded-none",children:"תמונות שיווקיות"}),(0,r.jsx)(C,{value:"support",className:"px-6 py-3 text-sm font-medium text-gray-600 data-[state=active]:bg-white data-[state=active]:text-gray-900 data-[state=active]:border-b-2 data-[state=active]:border-gray-900 rounded-none",children:"תמיכה"}),(0,r.jsx)(C,{value:"launch",className:"px-6 py-3 text-sm font-medium text-gray-600 data-[state=active]:bg-white data-[state=active]:text-gray-900 data-[state=active]:border-b-2 data-[state=active]:border-gray-900 rounded-none",children:"פתיחת קורס"})]}),(0,r.jsxs)(D,{value:"general",className:"p-6 m-0 space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(h,{htmlFor:"name",children:["שם הקורס ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(g,{id:"name",value:H.name||"",onChange:e=>X("name",e.target.value),className:ea("שם הקורס")||et("name")?"border-red-500":"border-gray-300",placeholder:"הכנס שם קורס"}),et("name")&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:B.name})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between space-x-4 space-x-reverse border border-gray-200 rounded-lg p-4 bg-gray-50",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)(h,{htmlFor:"nameChangeRequired",className:"cursor-pointer",children:["נדרש שינוי שם ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]})}),(0,r.jsx)(f,{id:"nameChangeRequired",checked:null!==(a=H.nameChangeRequired)&&void 0!==a&&a,onCheckedChange:e=>Q("nameChangeRequired",e)})]}),H.nameChangeRequired&&(0,r.jsxs)("div",{className:"mr-4 space-y-2 border-r-2 border-gray-300 pr-4",children:[(0,r.jsxs)(h,{htmlFor:"newName",children:["שם חדש ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(g,{id:"newName",value:H.newName||"",onChange:e=>X("newName",e.target.value),className:ea("שם חדש (נדרש כאשר נדרש שינוי שם)")?"border-red-500":"border-gray-300",placeholder:"הכנס שם חדש"})]})]}),(0,r.jsxs)(D,{value:"certificate",className:"p-6 m-0 space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(h,{htmlFor:"type",children:["סוג קורס ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)(R,{value:H.type,onValueChange:e=>X("type",e),children:[(0,r.jsx)(q,{className:ea("סוג קורס")||et("type")?"border-red-500":"border-gray-300",children:(0,r.jsx)(A,{placeholder:"בחר סוג קורס"})}),(0,r.jsxs)(_,{children:[(0,r.jsx)(Z,{value:"certificate",children:"עם תעודה"}),(0,r.jsx)(Z,{value:"no_certificate",children:"ללא תעודה"})]})]}),et("type")&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:B.type})]}),"certificate"===H.type&&(0,r.jsxs)("div",{className:"space-y-4 mt-6 border-t border-gray-200 pt-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(h,{htmlFor:"clientLogo",children:["לוגו לקוח ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(g,{id:"clientLogo",type:"file",accept:"image/*",onChange:e=>ee("clientLogo",e),className:ea("לוגו לקוח (חובה לקורס עם תעודה)")?"border-red-500":"border-gray-300"}),H.clientLogo&&(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["קובץ: ",H.clientLogo]}),et("clientLogo")&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:B.clientLogo})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h,{htmlFor:"certificateSignature",children:"חתימה לתעודה"}),(0,r.jsx)(g,{id:"certificateSignature",type:"file",accept:"image/*",onChange:e=>ee("certificateSignature",e),className:et("certificateSignature")?"border-red-500":"border-gray-300"}),H.certificateSignature&&(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["קובץ: ",H.certificateSignature]}),et("certificateSignature")&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:B.certificateSignature})]})]})]}),er&&(0,r.jsxs)(D,{value:"grading",className:"p-6 m-0 space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(h,{htmlFor:"gradingPercentages",children:["אחוזי ציונים (טקסט) ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(g,{id:"gradingPercentages",value:H.gradingPercentages||"",onChange:e=>X("gradingPercentages",e.target.value),className:ea("מודל ציונים (חובה לקורס עם תעודה)")?"border-red-500":"border-gray-300",placeholder:"לדוגמה: 70% מבחן, 30% מטלות"}),et("gradingPercentages")&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:B.gradingPercentages})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h,{htmlFor:"gradingFile",children:"או העלה קובץ מודל ציונים"}),(0,r.jsx)(g,{id:"gradingFile",type:"file",onChange:e=>ee("gradingFile",e),className:ea("מודל ציונים (חובה לקורס עם תעודה)")?"border-red-500":"border-gray-300"}),H.gradingFile&&(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["קובץ: ",H.gradingFile]}),et("gradingFile")&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:B.gradingFile})]})]}),(0,r.jsxs)(D,{value:"syllabus",className:"p-6 m-0 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between space-x-4 space-x-reverse border border-gray-200 rounded-lg p-4 bg-gray-50",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(h,{htmlFor:"syllabusRequired",className:"cursor-pointer",children:"סילבוס נדרש"})}),(0,r.jsx)(f,{id:"syllabusRequired",checked:null!==(t=H.syllabusRequired)&&void 0!==t&&t,onCheckedChange:e=>Q("syllabusRequired",e)})]}),H.syllabusRequired&&(0,r.jsxs)("div",{className:"mr-4 space-y-4 border-r-2 border-gray-300 pr-4 mt-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h,{htmlFor:"learningHours",children:"שעות למידה (טקסט)"}),(0,r.jsx)(g,{id:"learningHours",value:H.learningHours||"",onChange:e=>X("learningHours",e.target.value),className:ea("פירוט תכנית הלימודים (חובה כאשר תכנית לימודים נדרשת)")?"border-red-500":"border-gray-300",placeholder:"לדוגמה: 40 שעות, 8 פרקים"}),et("learningHours")&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:B.learningHours})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h,{htmlFor:"syllabusFile",children:"העלה מסמך סילבוס הכולל שעות לימוד לכל פרק ואחוז מהציון (במקרה של תעודה)"}),(0,r.jsx)(g,{id:"syllabusFile",type:"file",onChange:e=>ee("syllabusFile",e),className:ea("פירוט תכנית הלימודים (חובה כאשר תכנית לימודים נדרשת)")?"border-red-500":"border-gray-300"}),H.syllabusFile&&(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["קובץ: ",H.syllabusFile]}),et("syllabusFile")&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:B.syllabusFile})]})]})]}),(0,r.jsxs)(D,{value:"homepage",className:"p-6 m-0 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between space-x-4 space-x-reverse border border-gray-200 rounded-lg p-4 bg-gray-50",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(h,{htmlFor:"hasHomePageIntegrationDoc",className:"cursor-pointer",children:"האם יש מסמך הטמעה לעמוד הבית?"})}),(0,r.jsx)(f,{id:"hasHomePageIntegrationDoc",checked:es,onCheckedChange:e=>Q("hasHomePageIntegrationDoc",e)})]}),es?(0,r.jsxs)("div",{className:"mr-4 space-y-2 border-r-2 border-gray-300 pr-4 mt-6",children:[(0,r.jsx)(h,{htmlFor:"homePageIntegrationDoc",children:"העלה לכאן מסמך הטמעה"}),(0,r.jsx)(g,{id:"homePageIntegrationDoc",type:"file",onChange:e=>ee("homePageIntegrationDoc",e),className:et("homePageIntegrationDoc")?"border-red-500":"border-gray-300"}),H.homePageIntegrationDoc&&(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["קובץ: ",H.homePageIntegrationDoc]}),et("homePageIntegrationDoc")&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:B.homePageIntegrationDoc})]}):(0,r.jsxs)("div",{className:"mr-4 space-y-4 border-r-2 border-gray-300 pr-4 mt-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h,{htmlFor:"aboutDocumentData",children:"העלה לכאן את נתוני מסמך האודות"}),(0,r.jsx)(g,{id:"aboutDocumentData",type:"file",onChange:e=>ee("aboutDocumentData",e),className:et("aboutDocumentData")?"border-red-500":"border-gray-300"}),H.aboutDocumentData&&(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["קובץ: ",H.aboutDocumentData]}),et("aboutDocumentData")&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:B.aboutDocumentData})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h,{htmlFor:"aboutPageLink",children:"קישור לעמוד אודות (ממנו יווצר עמוד הבית)"}),(0,r.jsx)(g,{id:"aboutPageLink",type:"url",value:H.aboutPageLink||"",onChange:e=>X("aboutPageLink",e.target.value),placeholder:"https://example.com/about",className:et("aboutPageLink")?"border-red-500":"border-gray-300"}),et("aboutPageLink")&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:B.aboutPageLink})]})]})]}),(0,r.jsxs)(D,{value:"marketing",className:"p-6 m-0 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between space-x-4 space-x-reverse border border-gray-200 rounded-lg p-4 bg-gray-50",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(h,{htmlFor:"marketingImagesAvailable",className:"cursor-pointer",children:"תמונות שיווק זמינות"})}),(0,r.jsx)(f,{id:"marketingImagesAvailable",checked:null!==(u=H.marketingImagesAvailable)&&void 0!==u&&u,onCheckedChange:e=>Q("marketingImagesAvailable",e)})]}),H.marketingImagesAvailable&&(0,r.jsxs)("div",{className:"mr-4 space-y-2 border-r-2 border-gray-300 pr-4 mt-6",children:[(0,r.jsx)(h,{htmlFor:"marketingImagesLink",children:"קישור תמונות שיווק"}),(0,r.jsx)(g,{id:"marketingImagesLink",value:H.marketingImagesLink||"",onChange:e=>X("marketingImagesLink",e.target.value),placeholder:"https://example.com/images",className:et("marketingImagesLink")?"border-red-500":"border-gray-300"}),et("marketingImagesLink")&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:B.marketingImagesLink})]})]}),(0,r.jsx)(D,{value:"support",className:"p-6 m-0 space-y-4",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between space-x-4 space-x-reverse border border-gray-200 rounded-lg p-4 bg-gray-50",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)(h,{htmlFor:"surveysAdded",className:"cursor-pointer",children:["סקרים נוספו ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]})}),(0,r.jsx)(f,{id:"surveysAdded",checked:null!==(m=H.surveysAdded)&&void 0!==m&&m,onCheckedChange:e=>Q("surveysAdded",e)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h,{htmlFor:"supportContact",children:"פרטי לשונית תמיכה"}),(0,r.jsx)(g,{id:"supportContact",value:H.supportContact||"",onChange:e=>X("supportContact",e.target.value),placeholder:"support@example.com",className:et("supportContact")?"border-red-500":"border-gray-300"}),et("supportContact")&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:B.supportContact})]})]})}),(0,r.jsx)(D,{value:"launch",className:"p-6 m-0 space-y-4",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h,{htmlFor:"courseLaunchDate",children:"באיזה תאריך יש לפתוח את הקורס ללומדים?"}),(0,r.jsx)(g,{id:"courseLaunchDate",type:"date",value:H.courseLaunchDate||"",onChange:e=>X("courseLaunchDate",e.target.value),className:et("courseLaunchDate")?"border-red-500":"border-gray-300"}),et("courseLaunchDate")&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:B.courseLaunchDate})]})})]})})}),(0,r.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,r.jsx)(i.default,{href:"/",children:(0,r.jsx)(d.z,{variant:"outline",className:"border-gray-300",children:"ביטול"})}),(0,r.jsx)(d.z,{onClick:()=>{let e=l.I.safeParse(H);if(!e.success){console.error("Validation failed:",e.error.errors);return}try{if(j){var a,t,r,s;let e=L({name:H.name,type:H.type,nameChangeRequired:null!==(a=H.nameChangeRequired)&&void 0!==a&&a,newName:H.newName,hasHomePageIntegrationDoc:H.hasHomePageIntegrationDoc,homePageIntegrationDoc:H.homePageIntegrationDoc,aboutDocumentData:H.aboutDocumentData,aboutPageLink:H.aboutPageLink,aboutFile:H.aboutFile,syllabusRequired:null!==(t=H.syllabusRequired)&&void 0!==t&&t,learningHours:H.learningHours,syllabusFile:H.syllabusFile,surveysAdded:null!==(r=H.surveysAdded)&&void 0!==r&&r,gradingPercentages:H.gradingPercentages,gradingFile:H.gradingFile,marketingImagesAvailable:null!==(s=H.marketingImagesAvailable)&&void 0!==s&&s,marketingImagesLink:H.marketingImagesLink,clientLogo:H.clientLogo,certificateSignature:H.certificateSignature,supportContact:H.supportContact,courseLaunchDate:H.courseLaunchDate});console.log("=== Course Created ==="),console.log("Course ID:",e.id),console.log("Course Data:",JSON.stringify(e,null,2)),console.log("Ready for Launch:",U),console.log("======================"),alert("קורס חדש נשמר בהצלחה!\n\nשם הקורס: ".concat(e.name,"\nID: ").concat(e.id))}else{let e=P(Number(v),{name:H.name,type:H.type,nameChangeRequired:H.nameChangeRequired,newName:H.newName,hasHomePageIntegrationDoc:H.hasHomePageIntegrationDoc,homePageIntegrationDoc:H.homePageIntegrationDoc,aboutDocumentData:H.aboutDocumentData,aboutPageLink:H.aboutPageLink,aboutFile:H.aboutFile,syllabusRequired:H.syllabusRequired,learningHours:H.learningHours,syllabusFile:H.syllabusFile,surveysAdded:H.surveysAdded,gradingPercentages:H.gradingPercentages,gradingFile:H.gradingFile,marketingImagesAvailable:H.marketingImagesAvailable,marketingImagesLink:H.marketingImagesLink,clientLogo:H.clientLogo,certificateSignature:H.certificateSignature,supportContact:H.supportContact,courseLaunchDate:H.courseLaunchDate});if(e)console.log("=== Course Updated ==="),console.log("Course ID:",e.id),console.log("Course Data:",JSON.stringify(e,null,2)),console.log("Ready for Launch:",U),console.log("======================"),alert("הקורס עודכן בהצלחה!\n\nשם הקורס: ".concat(e.name));else{alert("שגיאה בעדכון הקורס");return}}x.push("/")}catch(e){console.error("Error saving course:",e),alert("שגיאה בשמירת הקורס. נסה שוב.")}},className:"bg-gray-900 text-white hover:bg-gray-800",children:"שמור וחזור"})]})]})})}},4693:function(e,a,t){"use strict";t.d(a,{C:function(){return l}});var r=t(7437);t(2265);var s=t(3027),n=t(7440);let i=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600"}},defaultVariants:{variant:"default"}});function l(e){let{className:a,variant:t,...s}=e;return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:t}),a),...s})}},495:function(e,a,t){"use strict";t.d(a,{z:function(){return c}});var r=t(7437),s=t(2265),n=t(1538),i=t(3027),l=t(7440);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,a)=>{let{className:t,variant:s,size:i,asChild:c=!1,...d}=e,u=c?n.g7:"button";return(0,r.jsx)(u,{className:(0,l.cn)(o({variant:s,size:i,className:t})),ref:a,...d})});c.displayName="Button"},6013:function(e,a,t){"use strict";t.d(a,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return d},ll:function(){return o}});var r=t(7437),s=t(2265),n=t(7440);let i=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});i.displayName="Card";let l=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...s})});l.displayName="CardHeader";let o=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("h3",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});o.displayName="CardTitle";let c=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("p",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",t),...s})});c.displayName="CardDescription";let d=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0",t),...s})});d.displayName="CardContent",s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",t),...s})}).displayName="CardFooter"},9845:function(e,a,t){"use strict";t.d(a,{E:function(){return s},w:function(){return n}});var r=t(2879);function s(e){let a=[],t=r.I.safeParse(e);return t.success||t.error.errors.forEach(e=>{let t={name:"שם הקורס",type:"סוג קורס",nameChangeRequired:"האם נדרש שינוי שם",newName:"שם חדש",aboutFile:"קובץ אודות",syllabusRequired:"תכנית לימודים נדרשת",learningHours:"שעות למידה",syllabusFile:"קובץ תכנית לימודים",surveysAdded:"סקרים נוספו",gradingPercentages:"אחוזי ציונים",gradingFile:"קובץ מודל ציונים",marketingImagesAvailable:"תמונות שיווק זמינות",marketingImagesLink:"קישור תמונות שיווק",clientLogo:"לוגו לקוח",certificateSignature:"חתימה תעודה",supportContact:"יצירת קשר תמיכה"}[e.path[0]]||null;t&&a.push(t)}),e.nameChangeRequired&&!e.newName&&a.push("שם חדש (נדרש כאשר נדרש שינוי שם)"),"certificate"!==e.type||(e.gradingPercentages||e.gradingFile||a.push("מודל ציונים (חובה לקורס עם תעודה)"),e.clientLogo||a.push("לוגו לקוח (חובה לקורס עם תעודה)")),!e.syllabusRequired||e.learningHours||e.syllabusFile||a.push("פירוט תכנית הלימודים (חובה כאשר תכנית לימודים נדרשת)"),a}function n(e){return 0===s(e).length}},9202:function(e,a,t){"use strict";t.d(a,{p:function(){return l}});var r=t(2265);let s=[{id:1,name:"פיתוח אפליקציות מובייל",nameChangeRequired:!1,type:"certificate",aboutFile:"about-course-1.pdf",syllabusRequired:!0,learningHours:"40 שעות, 8 פרקים",surveysAdded:!0,gradingPercentages:"70% מבחן, 30% מטלות",marketingImagesAvailable:!0,marketingImagesLink:"https://example.com/images",clientLogo:"logo-1.png",certificateSignature:"signature-1.png",supportContact:"support@example.com",createdAt:new Date("2024-01-15")},{id:2,name:"מבוא למדעי המחשב",nameChangeRequired:!0,newName:"מבוא למדעי המחשב - עדכון",type:"no_certificate",syllabusRequired:!1,surveysAdded:!1,marketingImagesAvailable:!1,createdAt:new Date("2024-02-01")},{id:3,name:"אבטחת מידע ברשת",nameChangeRequired:!1,type:"certificate",syllabusRequired:!0,syllabusFile:"syllabus-3.pdf",surveysAdded:!0,gradingFile:"grading-model-3.pdf",marketingImagesAvailable:!0,clientLogo:"logo-3.png",createdAt:new Date("2024-02-10")}],n="campus-courses";function i(e){try{localStorage.setItem(n,JSON.stringify(e))}catch(e){console.error("Error saving courses to localStorage:",e)}}function l(){let[e,a]=(0,r.useState)([]),[t,l]=(0,r.useState)(!0);(0,r.useEffect)(()=>{a(function(){let e=function(){try{let e=localStorage.getItem(n);if(e)return JSON.parse(e).map(e=>({...e,createdAt:e.createdAt?new Date(e.createdAt):void 0}))}catch(e){console.error("Error reading courses from localStorage:",e)}return[]}();return 0===e.length?(i(s),s):e}()),l(!1)},[]);let o=(0,r.useCallback)(()=>e,[e]),c=(0,r.useCallback)(a=>e.find(e=>e.id===a),[e]),d=(0,r.useCallback)(t=>{let r={...t,id:Date.now(),createdAt:new Date},s=[...e,r];return a(s),i(s),console.log("Course created:",r),r},[e]),u=(0,r.useCallback)((t,r)=>{let s=e.findIndex(e=>e.id===t);if(-1===s)return console.error("Course with id ".concat(t," not found")),null;let n={...e[s],...r,id:t},l=[...e];return l[s]=n,a(l),i(l),console.log("Course updated:",n),n},[e]),g=(0,r.useCallback)(t=>{if(-1===e.findIndex(e=>e.id===t))return console.error("Course with id ".concat(t," not found")),!1;let r=e.filter(e=>e.id!==t);return a(r),i(r),console.log("Course deleted:",t),!0},[e]);return{courses:e,isLoading:t,getAllCourses:o,getCourseById:c,createCourse:d,updateCourse:u,deleteCourse:g}}},2879:function(e,a,t){"use strict";t.d(a,{I:function(){return s}});var r=t(537);let s=r.Ry({name:r.Z_().min(1,"שם הקורס הוא שדה חובה"),type:r.Km(["certificate","no_certificate"]).default("no_certificate"),nameChangeRequired:r.O7().default(!1),newName:r.Z_().optional(),hasHomePageIntegrationDoc:r.O7().optional(),homePageIntegrationDoc:r.Z_().optional(),aboutDocumentData:r.Z_().optional(),aboutPageLink:r.Z_().optional(),aboutFile:r.Z_().optional(),syllabusRequired:r.O7().default(!1),learningHours:r.Z_().optional(),surveysAdded:r.O7().default(!1),marketingImagesAvailable:r.O7().default(!1),marketingImagesLink:r.Z_().optional(),supportContact:r.Z_().optional(),courseLaunchDate:r.Z_().optional()})},7440:function(e,a,t){"use strict";t.d(a,{cn:function(){return n}});var r=t(4839),s=t(6164);function n(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,s.m6)((0,r.W)(a))}}},function(e){e.O(0,[231,824,354,971,23,744],function(){return e(e.s=8800)}),_N_E=e.O()}]);